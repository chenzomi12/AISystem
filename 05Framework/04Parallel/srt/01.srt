1
00:00:00,140 --> 00:00:04,700
字幕生成: 粟君杰字幕校对: 粟君杰

2
00:00:04,700 --> 00:00:06,520
哈喽大家好

3
00:00:06,520 --> 00:00:10,120
在分布式系列里面又挖了一个新的坑了

4
00:00:10,120 --> 00:00:12,260
分布式的坑实在是太多了

5
00:00:12,260 --> 00:00:15,080
今天来到分布式并行策略的一个

6
00:00:15,080 --> 00:00:18,080
具体的大坑里面来讲讲基本的介绍

7
00:00:18,080 --> 00:00:20,980
就是接下来要讲哪些内容

8
00:00:20,980 --> 00:00:23,380
让回顾一下在之前的系列

9
00:00:23,380 --> 00:00:24,880
或者在之前的坑里面呢

10
00:00:24,880 --> 00:00:29,190
了解了分布式加 AI 集群的一些关键的内容

11
00:00:29,190 --> 00:00:30,860
从服务器到集群

12
00:00:30,860 --> 00:00:31,640
到通信

13
00:00:31,640 --> 00:00:33,350
到软硬件到 AI 框架

14
00:00:33,350 --> 00:00:35,019
它应该具备哪些功能

15
00:00:35,019 --> 00:00:37,179
那第二个呢就是来看了一下

16
00:00:37,179 --> 00:00:39,249
大模型的总体的算法

17
00:00:39,249 --> 00:00:41,259
从大模型遇到的一些挑战

18
00:00:41,259 --> 00:00:43,220
到两个最重要的算法结构

19
00:00:43,220 --> 00:00:45,620
最后呢，引用了一些最经典

20
00:00:45,620 --> 00:00:47,120
或者是 SOTA 的大模型

21
00:00:47,120 --> 00:00:49,100
今天呢，要分享的内容

22
00:00:49,100 --> 00:00:52,280
或接下来要分享的内容呢，有四个部分

23
00:00:52,280 --> 00:00:54,740
第一个呢，就是数据并行

24
00:00:54,740 --> 00:00:57,620
数据并行呢，就会有非常多的数据并行啊

25
00:00:57,620 --> 00:00:59,810
大家不要觉得数据并行很简单

26
00:00:59,810 --> 00:01:01,940
其实数据并行也可以做的很复杂

27
00:01:01,940 --> 00:01:03,890
就有 DP,DDP

28
00:01:03,890 --> 00:01:05,180
还有 FSDP

29
00:01:05,180 --> 00:01:07,940
不同的模式有不同的并行的策略

30
00:01:07,940 --> 00:01:10,860
那接着呢，来看看模型并行

31
00:01:10,860 --> 00:01:12,600
那其实现在有很多误区

32
00:01:12,600 --> 00:01:15,780
就是张量并行和流水线并行是一个独立

33
00:01:15,780 --> 00:01:19,680
其实这些并行呢，都是并在模型并行里面

34
00:01:19,680 --> 00:01:21,660
模型并行又叫 MP

35
00:01:21,660 --> 00:01:23,700
MP 里面就分为张量并行 TP

36
00:01:23,700 --> 00:01:25,650
和流水线并行 PP

37
00:01:25,650 --> 00:01:28,220
Pipeline Parallelism

38
00:01:28,220 --> 00:01:30,740
那接着呢，来去学习一下

39
00:01:30,740 --> 00:01:34,820
现在 MindSpore 推出最新的一个自动并行的策略

40
00:01:34,820 --> 00:01:38,280
那这里面呢，只会讲 MindSpore 张量自动并行

41
00:01:38,280 --> 00:01:40,710
其实 MindSpore 可以做到非常多的并行的策略

42
00:01:40,710 --> 00:01:42,930
特别是自动的多维混合并行

43
00:01:42,930 --> 00:01:44,580
聊到多维混合并行

44
00:01:44,580 --> 00:01:48,520
首先来去看看一个 Embendding 的混合并行

45
00:01:48,520 --> 00:01:50,500
接着呢，去看看 MP DP

46
00:01:50,500 --> 00:01:52,400
就是数据并行加模型并行

47
00:01:52,400 --> 00:01:55,820
就是把上面四五种并行的方式混合在一起

48
00:01:55,820 --> 00:01:58,190
用一起去训练，好了

49
00:01:58,190 --> 00:01:58,790
事不宜迟

50
00:01:58,790 --> 00:02:01,130
让现在来继续往下看一看

51
00:02:01,130 --> 00:02:03,410
现在呢，其实现在的大模型

52
00:02:03,410 --> 00:02:05,030
这个图看了好几回了

53
00:02:05,030 --> 00:02:06,230
已经要闷了

54
00:02:06,230 --> 00:02:07,670
大模型越来越大

55
00:02:07,670 --> 00:02:10,440
然后大模型能够解决自监督的问题呢

56
00:02:10,440 --> 00:02:12,480
能够让参数量变大

57
00:02:12,480 --> 00:02:15,180
然后呢，突破模型精度

58
00:02:15,180 --> 00:02:18,540
另外呢，还会解决模型碎片化的问题

59
00:02:18,540 --> 00:02:21,269
但是参数量越大

60
00:02:21,269 --> 00:02:23,639
训练的时间就越长

61
00:02:23,639 --> 00:02:25,900
为了解决训练时长的问题

62
00:02:25,900 --> 00:02:28,930
希望能够提升计算速率

63
00:02:28,930 --> 00:02:30,940
而提升计算速率呢，很重要

64
00:02:30,940 --> 00:02:34,480
就是需要提升单设备的运算速率

65
00:02:34,480 --> 00:02:37,000
那这个大部分是靠摩尔定律

66
00:02:37,000 --> 00:02:38,200
靠制成

67
00:02:38,200 --> 00:02:40,960
在另外一方面更加可控的可变因素呢

68
00:02:40,960 --> 00:02:42,220
就有设备的数量

69
00:02:42,220 --> 00:02:43,700
就堆设备就行了

70
00:02:43,700 --> 00:02:47,210
第二个就是加速设备之间的一个并行效率

71
00:02:47,210 --> 00:02:51,320
那这个呢，就是今天的重点和主角哦

72
00:02:51,320 --> 00:02:53,960
现在呢，来看看单设备的数据

73
00:02:53,960 --> 00:02:55,620
其实有很多一些算法

74
00:02:55,620 --> 00:02:58,840
但这些算盘还是只能说饮鸩止渴

75
00:02:58,840 --> 00:03:01,570
真正能够解决的还是制程

76
00:03:01,570 --> 00:03:02,320
那设备数呢

77
00:03:02,320 --> 00:03:05,960
之前的上一个系列里面已经详细的介绍过

78
00:03:05,960 --> 00:03:09,600
今天回到最重要的内容就是并行策略

79
00:03:09,600 --> 00:03:11,040
会讲一些数据并行

80
00:03:11,040 --> 00:03:12,000
流水并行、模型并行

81
00:03:12,000 --> 00:03:13,320
张量并行

82
00:03:13,320 --> 00:03:16,240
还有作为混合并行，好了

83
00:03:16,240 --> 00:03:16,960
事不宜迟

84
00:03:16,960 --> 00:03:19,060
让期待接下来的内容吧

85
00:03:19,060 --> 00:03:19,840
谢谢各位

86
00:03:19,840 --> 00:03:21,380
拜了个拜

87
00:03:21,380 --> 00:03:22,880
卷的不行了

88
00:03:22,880 --> 00:03:23,690
卷的不行了

89
00:03:23,690 --> 00:03:25,380
记得一键三连加关注哦

90
00:03:25,380 --> 00:03:26,880
所有的内容都会开源

91
00:03:26,880 --> 00:03:28,800
在下面这条链接里面

92
00:03:28,800 --> 00:03:29,820
拜了个拜